<div class="panel join-panel">
  <div class="kicker">Participant</div>
  <h1>Connect</h1>

  @if (status() === 'idle') {
    <p class="muted">Enter your name to join session {{ sessionId() }}.</p>
    <form class="join-form" (submit)="join()">
      <label class="field">
        <span>Name</span>
        <input
          type="text"
          [formControl]="nameControl"
          placeholder="Your name"
          maxlength="28"
          autocomplete="name"
          [class.invalid]="nameControl.invalid && nameControl.touched"
        />
      </label>
      <button class="primary-button" type="submit" [disabled]="isBusy()">Join Scan</button>
    </form>
    @if (nameControl.invalid && nameControl.touched) {
      <p class="muted">Please enter a name to continue.</p>
    }
  } @else if (status() === 'joining') {
    <p class="muted">Calibrating your responsesâ€¦</p>
  } @else if (status() === 'ready') {
    <p class="muted">Connection verified. Entering session {{ sessionId() }}.</p>
  } @else {
    <p class="muted">Unable to join this session.</p>
  }
  <div class="pulse indicator"></div>
</div>
